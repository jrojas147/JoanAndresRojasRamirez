"use strict";(self.webpackChunktecnichal_test_front=self.webpackChunktecnichal_test_front||[]).push([[310],{310:(Q,u,l)=>{l.r(u),l.d(u,{HomeModule:()=>B});var r=l(6895),t=l(8256),p=l(1729),d=l(3039),T=l(1596),v=l(545);let g=(()=>{class o{constructor(){this.modals=[]}add(e){this.modals.push(e)}remove(e){this.modals=this.modals.filter(n=>n.id!==e)}open(e){this.modals.find(a=>a.id===e).open()}close(e){this.modals.find(a=>a.id===e).close()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var c=l(433);const b=["*"];let h=(()=>{class o{constructor(e,n){this.modalService=e,this.elementRef=n,this.element=n.nativeElement}ngOnInit(){!this.id||(document.body.appendChild(this.element),this.modalService.add(this))}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block"}close(){this.element.style.display="none"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g),t.Y36(t.SBq))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal"]],inputs:{id:"id"},ngContentSelectors:b,decls:4,vars:0,consts:[[1,"container-modal2"],[1,"container-modal2-body"],[1,"container-content"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.Hsn(3),t.qZA()()())},encapsulation:2}),o})();function C(o,i){if(1&o&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e.title)}}function Z(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",17),t._UZ(3,"img",18),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td",19)(13,"div",20)(14,"button",21),t._uU(15,"\u22ee"),t.qZA(),t.TgZ(16,"div",22)(17,"button",23),t.NdJ("click",function(){const s=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.actionBtn("edit",s))}),t._uU(18,"\u270f\ufe0f"),t.qZA(),t.TgZ(19,"button",23),t.NdJ("click",function(){const s=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.actionBtn("delete",s))}),t._uU(20,"\u{1f5d1}\ufe0f"),t.qZA()()()()()}if(2&o){const e=i.$implicit;t.xp6(5),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.description," "),t.xp6(2),t.hij(" ",e.date_release," "),t.xp6(2),t.hij(" ",e.date_revision," ")}}function P(o,i){1&o&&(t.TgZ(0,"div",24),t._uU(1,"No existen registros"),t.qZA())}function A(o,i){if(1&o&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function M(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.previousPage())}),t._uU(3," \u25c4 "),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.TgZ(6,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.nextPage())}),t._uU(7," \u25ba "),t.qZA()(),t.TgZ(8,"div",28)(9,"label",29),t._uU(10,"Mostrar:"),t.qZA(),t.TgZ(11,"select",30),t.NdJ("ngModelChange",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.itemsPerPage=a)})("change",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.onItemsPerPageChange(a))}),t.YNc(12,A,2,2,"option",31),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("disabled",1===e.currentPage),t.xp6(3),t.AsE("P\xe1gina ",e.currentPage," de ",e.totalPages,""),t.xp6(1),t.Q6J("disabled",e.currentPage===e.totalPages),t.xp6(5),t.Q6J("ngModel",e.itemsPerPage),t.xp6(1),t.Q6J("ngForOf",e.itemsPerPageOptions)}}let _=(()=>{class o{constructor(e){this.modalService=e,this.emmitAction=new t.vpe,this.dataRow=[],this.filteredProductos=[],this.paginatedProductos=[],this.itemsPerPageOptions=[5,10,20],this.itemsPerPage=5,this.currentPage=1,this.totalPages=1}ngOnChanges(e){e.dataRow&&e.dataRow.currentValue&&(this.filteredProductos=this.dataRow,this.calculateTotalPages())}calculateTotalPages(){this.totalPages=Math.ceil(this.dataRow.length/this.itemsPerPage)}applyFilter(){this.filteredProductos=this.filterCharacters?this.dataRow.filter(e=>Object.values(e).some(n=>n.toString().toLowerCase().includes(this.filterCharacters?.toLowerCase()))):this.dataRow,this.currentPage=1,this.calculateTotalPages()}get paginatedItems(){const e=(this.currentPage-1)*this.itemsPerPage;return this.filteredProductos.slice(e,e+this.itemsPerPage)}previousPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}onItemsPerPageChange(e){this.itemsPerPage=+e.target.value,this.currentPage=1,this.calculateTotalPages()}showTooltip(e){this.selectedItem=e}closeTooltip(){this.selectedItem=void 0}actionBtn(e,n){("add"===e||"edit"===e)&&this.emmitAction.emit({action:e,data:n}),"delete"===e&&this.openModal(n)}deleteSelectedData(){this.emmitAction.emit({action:"delete",data:this.dataSelected}),this.closeModal()}openModal(e){this.dataSelected=e,this.nameSelected=e?.name,this.modalService.open("modal-confirm")}closeModal(){this.modalService.close("modal-confirm")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-table"]],inputs:{columns:"columns",dataRow:"dataRow"},outputs:{emmitAction:"emmitAction"},features:[t.TTD],decls:29,vars:6,consts:[[1,"flex-row"],[1,"col-2"],[1,"form-controls"],["id","filterCharacters","name","filterCharacters","placeholder","Search...","type","text",3,"ngModel","ngModelChange"],[1,"col-2","buton-add"],[1,"primary-button",2,"margin","0",3,"click"],[1,"table-container"],[4,"ngFor","ngForOf"],["class","empty-data",4,"ngIf"],["class","pagination-container",4,"ngIf"],["id","modal-confirm"],[1,"content-confirm"],[1,"textConfirmation"],[1,"content-line"],[1,"action-button"],[1,"secondary-button","full-width",3,"click"],[1,"primary-button","full-width",3,"click"],[1,"container-img"],["src","assets/img/perfil.png","alt","",1,"img-fluid","height"],[1,"actions-cell"],[1,"menu-container"],[1,"menu-button"],[1,"menu-options"],[3,"click"],[1,"empty-data"],[1,"pagination-container"],[1,"paginator"],[1,"primary-button",3,"disabled","click"],[1,"items-per-page"],["for","itemsPerPage"],["id","itemsPerPage",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(s){return n.filterCharacters=s})("ngModelChange",function(){return n.applyFilter()}),t.qZA()()(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return n.actionBtn("add")}),t._uU(6," Agregar "),t.qZA()()(),t.TgZ(7,"section",6)(8,"table")(9,"thead")(10,"tr"),t.YNc(11,C,2,1,"th",7),t._UZ(12,"th"),t.qZA()(),t.TgZ(13,"tbody"),t.YNc(14,Z,21,4,"tr",7),t.qZA()(),t.YNc(15,P,2,0,"div",8),t.YNc(16,M,13,6,"div",9),t.qZA(),t.TgZ(17,"app-modal",10)(18,"div",11)(19,"div",12)(20,"p"),t._uU(21),t.qZA()(),t.TgZ(22,"div",13),t._UZ(23,"hr"),t.qZA(),t.TgZ(24,"div",14)(25,"button",15),t.NdJ("click",function(){return n.closeModal()}),t._uU(26,"Cancelar"),t.qZA(),t.TgZ(27,"button",16),t.NdJ("click",function(){return n.deleteSelectedData()}),t._uU(28,"Confirmar"),t.qZA()()()()),2&e&&(t.xp6(3),t.Q6J("ngModel",n.filterCharacters),t.xp6(8),t.Q6J("ngForOf",n.columns),t.xp6(3),t.Q6J("ngForOf",n.paginatedItems),t.xp6(1),t.Q6J("ngIf",0===n.dataRow.length),t.xp6(1),t.Q6J("ngIf",n.dataRow.length>0),t.xp6(5),t.hij("\xbf Estas seguro de eliminar el producto ",n.nameSelected," ?"))},dependencies:[r.sg,r.O5,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,h],encapsulation:2}),o})();var x=l(4356);function y(o,i){1&o&&(t.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"div",6),t._UZ(4,"app-skeleton-loader",7),t.qZA()(),t._UZ(5,"div",5),t.qZA(),t._UZ(6,"app-skeleton-loader",7),t.qZA()),2&o&&(t.xp6(4),t.Q6J("height",50),t.xp6(2),t.Q6J("height",124))}function w(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"app-table",8),t.NdJ("emmitAction",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.emitTable(a))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("columns",e.columns)("dataRow",e.listAccounts)}}const J=[{path:"",component:(()=>{class o{constructor(e,n,a){this.bankService=e,this.router=n,this.toastService=a,this.listAccounts=[],this.loading=!0,this.columns=[{label:"logo",title:"Logo"},{label:"name",title:"Nombre del producto"},{label:"description",title:"Descripci\xf3n"},{label:"date_release",title:"Fecha de liberaci\xf3n"},{label:"date_revision",title:"Fecha de reestrucutaci\xf3n"}]}ngOnInit(){this.loadList()}loadList(){this.bankService.getAccounts()?.subscribe(e=>{this.listAccounts=e.data,setTimeout(()=>{this.loading=!1},1e3)})}emitTable(e){"add"===e.action&&this.router.navigateByUrl("/registry"),"edit"===e.action&&this.router.navigateByUrl("/registry/"+e.data.id),"delete"===e.action&&this.bankService.deleteAccounts(e.data)?.subscribe(n=>{this.toastService.show("Exitoso",n.message||""),this.loadList()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.M),t.Y36(d.F0),t.Y36(T.k))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:5,vars:2,consts:[[1,"home"],[1,"body-home"],[4,"ngIf"],[3,"columns","dataRow","emmitAction",4,"ngIf"],[1,"flex-row"],[1,"col-2"],[1,"form-controls"],[3,"height"],[3,"columns","dataRow","emmitAction"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,y,7,2,"div",2),t.YNc(3,w,1,2,"app-table",3),t.qZA()(),t._UZ(4,"app-toast")),2&e&&(t.xp6(2),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf",!n.loading))},dependencies:[r.O5,v.t,_,x.q],encapsulation:2}),o})()}];let F=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(J),d.Bz]}),o})();var S=l(298);const U=[r.ez,c.u5],H=[r.ez,c.u5,(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[U]}),o})()];let k=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[H]}),o})();var N=l(3806),I=l(8797);const R=[r.ez,c.u5,F,I.m,k,N.E],O=[p.M,S.L];let B=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:O,imports:[R]}),o})()}}]);